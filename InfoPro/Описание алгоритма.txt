По условию на 1 страну приходится 4 операции торговли ежемесячно, т.е. в целом 400 операций.В таймере каждая страна делает покупки, а продаёт, когда в этом же таймере обрабатываются её соседи.На 1 срабатывание таймера 1 операция покупки.Используется функция получения списка случайных чисел без повторов.В начале каждого месяца составляется случайный список индексов соседей и стран.Каждые 100 операций случайный список индексов стран обновляется.Путём деления общего счётчика операций (от 0 до 400) на 100 переключаются ячейки случайного списка индексов соседей.Таким образом все операции выполняются в случайном порядке.